diff <- lambda.w - lambda.m
cex.plots <- 1
plot(density(diff), xlab=expression(lambda[w] - lambda[m]), ylab="density", main=expression(paste("Posterior Distribution of ", lambda[w]-lambda[m])), cex.axis=cex.plots, cex.lab=cex.plots, lwd=2)
abline(v=0, lty=2)
lambda.w <- rgamma(10000, gamma.w, phi.w)
lambda.m <- rgamma(10000, gamma.m, phi.m)
diff <- lambda.w - lambda.m
mean(diff)
cex.plots <- 1
plot(density(diff), xlab=expression(lambda[w] - lambda[m]), ylab="density", main=expression(paste("Posterior Distribution of ", lambda[w]-lambda[m])), cex.axis=cex.plots, cex.lab=cex.plots, lwd=2)
abline(v=0, lty=2)
knitr::opts_chunk$set(echo = TRUE)
library(tinytex)
library(ggplot2)
set.seed(232323)
gamma <- 0.5
phi <- 0.5
exp_value <- gamma / phi
exp_value
data <- c(3,3,7,1,4,6,6,7,3,1,5,5,5,3,3,0,3,1,2,2)
n <- length(data)
gamma.p <- gamma + sum(data)
phi.p <- phi + n
gamma.p
phi.p
curve(dgamma(x, gamma.p, phi.p), xlim=c(0, 15), n=1000, xlab=expression(lambda), ylab="density", main=expression(paste("Distribution of ", lambda)))
curve(dgamma(x, gamma, phi), add=T, n=1000, lty=2)
exp_value.p <- gamma.p / phi.p
exp_value.p
qgamma(c(.025, .975), gamma.p, phi.p)
pgamma(4, gamma.p, phi.p, lower.tail=F)
exp_value <- 8/1.5
var <- 8/(1.5^2)
exp_value
var
w.data <- c(12,9,10,8,9,4,10,15,3,5,11,8,9,4,2,7,9,5,4,2,3,12,10,2,9,8,13,9,7,6,6,2,2,6,8)
m.data <- c(2,3,0,4,1,1,12,2,2,0,3,2)
n.w <- length(w.data)
gamma.w <- 8 + sum(w.data)
phi.w <- 1.5 + n.w
gamma.w
phi.w
n.m <- length(m.data)
gamma.m <- 8 + sum(m.data)
phi.m <- 1.5 + n.m
gamma.m
phi.m
qgamma(c(.025, .975), gamma.w, phi.w)
qgamma(c(.025, .975), gamma.m, phi.m)
lambda.w <- rgamma(10000, gamma.w, phi.w)
lambda.m <- rgamma(10000, gamma.m, phi.m)
diff <- lambda.w - lambda.m
mean(diff)
cex.plots <- 1
plot(density(diff), xlab=expression(lambda[w] - lambda[m]), ylab="density", main=expression(paste("Posterior Distribution of ", lambda[w]-lambda[m])), cex.axis=cex.plots, cex.lab=cex.plots, lwd=2)
abline(v=0, lty=2)
data.d <- rgamma(10000, gamma.p, phi.p)
rpois(10000,data.d)
data.d <- rgamma(10000, gamma.p, phi.p)
mean(rpois(10000,data.d) > 4)
knitr::opts_chunk$set(echo = TRUE)
library(tinytex)
library(ggplot2)
set.seed(121212)
gamma <- 2
phi <- 0.5
curve(dgamma(x, gamma, phi), add=T, n=1000, lty=2)
gamma <- 2
phi <- 0.5
curve(dgamma(x, gamma, phi), xlim=c(0, 15), n=1000, xlab=expression(lambda), ylab="density", main=expression(paste("Distribution of ", lambda)))
gamma <- 2
phi <- 0.5
curve(dgamma(x, gamma, phi), xlim=c(0, 100), n=1000, xlab=expression(lambda), ylab="density", main=expression(paste("Distribution of ", lambda)))
gamma <- 2
phi <- 0.5
curve(dgamma(x, gamma, phi), xlim=c(0, 30), n=1000, xlab=expression(lambda), ylab="density", main=expression(paste("Distribution of ", lambda)))
gamma <- 2
phi <- 0.5
curve(dgamma(x, gamma, phi), xlim=c(0, 20), n=1000, xlab=expression(lambda), ylab="density", main=expression(paste("Distribution of ", lambda)))
gamma <- 2
phi <- 0.5
curve(dgamma(x, gamma, phi), xlim=c(0, 15), n=1000, xlab=expression(lambda), ylab="density", main=expression(paste("Distribution of ", lambda)))
data <- 102
n <- 37
gamma.p <- gamma + 37*102
phi.p <- phi + n
gamma.p
phi.p
rgamma(37,102)
data <- rgamma(37,102)
n <- length(data)
gamma.p <- gamma + sum(data)
phi.p <- phi + n
gamma.p
phi.p
data <- rgamma(37,102)
n <- length(data)
gamma.p <- gamma + sum(data)
phi.p <- phi + n
gamma.p
phi.p
data <- rgamma(37,102)
n <- length(data)
gamma.p <- gamma + sum(data)
phi.p <- phi + n
gamma.p
phi.p
data <- rgamma(37,102)
n <- length(data)
gamma.p <- gamma + sum(data)
phi.p <- phi + n
gamma.p
phi.p
data <- rgamma(37,102)
n <- length(data)
gamma.p <- gamma + sum(data)
phi.p <- phi + n
gamma.p
phi.p
mean(data)
data <- rgamma(37,102)
n <- length(data)
gamma.p <- gamma + sum(data)
phi.p <- phi + n
gamma.p
phi.p
phi.p
mean(data)
data <- rgamma(37,102)
n <- length(data)
gamma.p <- gamma + sum(data)
phi.p <- phi + n
gamma.p
phi.p
mean(data)
knitr::opts_chunk$set(echo = TRUE)
library(tinytex)
library(ggplot2)
set.seed(121212)
gamma <- 2
phi <- 0.5
curve(dgamma(x, gamma, phi), xlim=c(0, 15), n=10000, xlab=expression(paste(lambda,"_2")), ylab="density", main=expression(paste("Distribution of ", lambda,"_2")))
gamma <- 2
phi <- 0.5
gamma.p.2 <- gamma + 102
phi.p.2 <- phi + 37
gamma.p.2
phi.p.2
gamma.p.1 <- gamma + 185
phi.p.1 <- phi + 41
samp_1 <- rgamma(10000,gamma.p.1,phi.p.1)
samp_2 <- rgamma(10000,gamma.p.2,phi.p.2)
diff <- samp_1 - samp_2
quantile(diff, c(0.025, 0.975))
variance <- 0.821
lambda <- 6
tau2 <- 10
data_sum <- 1244
n <- 232
lambda.p <- (tau2*data_sum + (variance * lambda)) / (tau2*n + variance)
tau2.p <- (variance * tau2) / (tau2*n + variance)
lambda.p
tau2.p
curve(dnorm(x, lambda.p, sqrt(tau2.p)), xlim=c(5.1,5.6), n=10000, xlab=expression(paste("log(SOC) of Farmland")), ylab="density", main=expression(paste("Distribution of log(SOC) of Farmland")))
qnorm(c(.025, .975), lambda.p, sqrt(tau2.p))
norm.F <- rnorm(10000, lambda.p, sqrt(tau2.p))
quantile(norm.F, c(.025, .975))
exp(quantile(norm.F, c(.025, .975)))
variance.w <- 1.51
lambda.w <- 6
tau2.w <- 10
data_sum.w <- 403
n.w <- 67
lambda.p.w <- (tau2.w*data_sum.w + (variance.w * lambda.w)) / (tau2.w*n.w + variance.w)
tau2.p.w <- (variance.w * tau2.w) / (tau2.w*n.w + variance.w)
norm.w <- rnorm(10000, lambda.p.w, sqrt(tau2.p.w))
exp(quantile(norm.w, c(.025, .975)))
sick <- rbeta(10000,(3 * 35) + 0.65,4.35 + 192)
final <- (3 / sick) - 3
quantile(final, c(0.025,0.975))
knitr::opts_chunk$set(echo = TRUE)
library(tinytex)
library(ggplot2)
set.seed(121212)
gamma <- 2
phi <- 0.5
curve(dgamma(x, gamma, phi), xlim=c(0, 15), n=10000, xlab=expression(paste(lambda,"_2")), ylab="density", main=expression(paste("Distribution of ", lambda,"_2")))
gamma <- 2
phi <- 0.5
gamma.p.2 <- gamma + 102
phi.p.2 <- phi + 37
gamma.p.2
phi.p.2
gamma.p.1 <- gamma + 185
phi.p.1 <- phi + 41
samp_1 <- rgamma(10000,gamma.p.1,phi.p.1)
samp_2 <- rgamma(10000,gamma.p.2,phi.p.2)
diff <- samp_1 - samp_2
quantile(diff, c(0.025, 0.975))
variance <- 0.821
lambda <- 6
tau2 <- 10
data_sum <- 1244
n <- 232
lambda.p <- (tau2*data_sum + (variance * lambda)) / (tau2*n + variance)
tau2.p <- (variance * tau2) / (tau2*n + variance)
lambda.p
tau2.p
curve(dnorm(x, lambda.p, sqrt(tau2.p)), xlim=c(5.1,5.6), n=10000, xlab=expression(paste("log(SOC) of Farmland")), ylab="density", main=expression(paste("Distribution of log(SOC) of Farmland")))
qnorm(c(.025, .975), lambda.p, sqrt(tau2.p))
norm.F <- rnorm(10000, lambda.p, sqrt(tau2.p))
quantile(norm.F, c(.025, .975))
exp(quantile(norm.F, c(.025, .975)))
variance.w <- 1.51
lambda.w <- 6
tau2.w <- 10
data_sum.w <- 403
n.w <- 67
lambda.p.w <- (tau2.w*data_sum.w + (variance.w * lambda.w)) / (tau2.w*n.w + variance.w)
tau2.p.w <- (variance.w * tau2.w) / (tau2.w*n.w + variance.w)
norm.w <- rnorm(10000, lambda.p.w, sqrt(tau2.p.w))
exp(quantile(norm.w, c(.025, .975)))
sick <- rbeta(10000,(3 * 35) + 0.65,4.35 + 192)
final <- (3 / sick) - 3
quantile(final, c(0.025,0.975))
library(lookup)
library(tidyverse)
library(rvest)
library(lubridate)
library(readxl)
library(dplyr)
library(readxl)
library(aod)
library(ggplot2)
library(tidyr)
library(stringr)
library(lookup)
library(reshape)
library(coda)
playoff_games <- read.csv('playoff_games.csv')
playoff_games <- read.csv('/Users/matty/Documents/BYU/undergrad_research/old_data/playoff_games.csv')
regular_season <- read.csv('/Users/matty/Documents/BYU/undergrad_research/old_data/regular_season.csv')
names <- c('Visitor/Neutral','Visitor Points','Home/Neutral','Home Points','id','year','win','team','season_id','margin','playoff')
names(regular_season) <- names
names(playoff_games) <- names
view(playoff_games)
names(playoff_games) <- names
playoff_games[substr(playoff_games$year, 1, 3) == "198", ]
the80s <- playoff_games
the80s$correct <- playoff_games[substr(playoff_games$year, 1, 3) == "198", ]
playoff_games %>%
filter(substr(year) == '198',)
playoff_games %>%
filter(substr(year) == '198')
playoff_games %>%
filter(substr(year,1,3) == '198')
playoff_games %>%
filter(substr(year,1,3) == '198') %>%
select(everything())
playoff_games$year == '198'
playoff_games$year == '198',
playoff_games$year > 198
playoff_games$year >= 1980 && playoff_games$year <= 1990
playoff_games$year >= 1980 &&  <= 1990
temp <- playoff_games$year >= 1980
temp <- playoff_games <= 1990
temp
the80s <- playoff_games
the80s$correct <- temp
the 80s
the80s
view(the80s)
temp
view(temp)
temp <- playoff_games$year >= 1980
temp <- playoff_games$year <= 1990
view(temp)
the80s <- playoff_games
the80s$correct <- temp
view(the80s)
filter(the80s,correct == T)
view(filter(the80s,correct == T))
temp <- playoff_games$year >= 1980
temp <- playoff_games$year < 1990
view(temp)
temp <- playoff_games$year < 1990
the80s <- playoff_games
the80s$correct <- temp
view(filter(the80s,correct == T))
filter_teams <- function(first,last,df){
temp <- playoff_games$year >= first
temp <- playoff_games$year < last
df <- playoff_games
df$correct <- temp
}
playoff_games <- read.csv('/Users/matty/Documents/BYU/undergrad_research/old_data/playoff_games.csv')
regular_season <- read.csv('/Users/matty/Documents/BYU/undergrad_research/old_data/regular_season.csv')
names <- c('Visitor/Neutral','Visitor Points','Home/Neutral','Home Points','id','year','win','team','season_id','margin','playoff')
names(regular_season) <- names
names(playoff_games) <- names
filter_teams <- function(first,last,df){
temp <- playoff_games$year >= first
temp <- playoff_games$year < last
df <- playoff_games
df$correct <- temp
}
filter_teams(1980,1990,the80s)
view(the80s)
the80s <- data.frame()
filter_teams(1980,1990,the80s)
filter_teams <- function(first,last,df){
temp <- playoff_games$year >= first
temp <- playoff_games$year < last
df <- playoff_games
df$correct <- temp
return(df)
}
filter_teams(1980,1990,the80s)
the80s <- filter_teams(1980,1990,the80s)
view(the80s)
the90s <- filter_teams(1990,2000)
view(the90s)
the90s <- filter_teams(1990,2000)
view(the90s)
temp <- playoff_games$year >= 1990
temp <- playoff_games$year < 2000
test <- playoff_games
test$correct <- temp
view(filter(test,correct == T))
temp <- playoff_games$year >= 1990 & playoff_games$year < 2000
test <- playoff_games
test$correct <- temp
view(filter(test,correct == T))
the80s <- filter_teams(1980,1990)
the90s <- filter_teams(1990,2000)
view(the80s)
view(the90s)
playoff_games <- read.csv('/Users/matty/Documents/BYU/undergrad_research/old_data/playoff_games.csv')
regular_season <- read.csv('/Users/matty/Documents/BYU/undergrad_research/old_data/regular_season.csv')
names <- c('Visitor/Neutral','Visitor Points','Home/Neutral','Home Points','id','year','win','team','season_id','margin','playoff')
names(regular_season) <- names
names(playoff_games) <- names
filter_teams <- function(first,last){
temp <- playoff_games$year >= first & playoff_games$year < last
df <- playoff_games
df$correct <- temp
return(df)
}
filter_teams <- function(first,last){
temp <- playoff_games$year >= first & playoff_games$year < last
df <- playoff_games
df$correct <- temp
return(df)
}
the80s <- filter_teams(1980,1990)
the90s <- filter_teams(1990,2000)
view(the90s)
temp <- playoff_games$year >= 1990 & playoff_games$year < 2000
temp <- playoff_games$year < 2000
test <- playoff_games
temp <- playoff_games$year >= 1990 & playoff_games$year < 2000
test <- playoff_games
test$correct <- temp
view(filter(test,correct == T))
filter_teams <- function(first,last){
temp <- playoff_games$year >= 1990 & playoff_games$year < 2000
test <- playoff_games
test$correct <- temp
return(test)
}
the80s <- filter_teams(1980,1990)
the90s <- filter_teams(1990,2000)
view(the90s)
please <- filter_teams(1990,2000)
view(please)
playoff_games$year >= 1990 & playoff_games$year < 2000
playoff_games
filter_teams <- function(first,last){
temp <- playoff_games$year >= first & playoff_games$year < last
test <- playoff_games
test$correct <- temp
df <- filter(test,correct == T)
return(df)
}
please <- filter_teams(1990,2000)
view(please)
the80s <- filter_teams(1980,1990)
the90s <- filter_teams(1990,2000)
playoff_games
playoff_games$`Visitor/Neutral` == 'BOS'
playoff_games$`Visitor/Neutral` == 'LOS'
playoff_games$`Visitor/Neutral` == 'LAL'
playoff_games$`Home/Neutral` == 'LAL'
playoff_games$`Visitor/Neutral` == 'BOS'
playoff_games$`Home/Neutral` == 'BOS'
playoff_games$`Visitor/Neutral` == 'DET'
playoff_games$`Home/Neutral` == 'DET'
playoff_games$`Visitor/Neutral` == 'LAL' | playoff_games$`Home/Neutral` == 'LAL' | playoff_games$`Visitor/Neutral` == 'BOS' | playoff_games$`Home/Neutral` == 'BOS' | playoff_games$`Visitor/Neutral` == 'DET' | playoff_games$`Home/Neutral` == 'DET'
temp2 <- playoff_games$`Visitor/Neutral` == 'LAL' | playoff_games$`Home/Neutral` == 'LAL' | playoff_games$`Visitor/Neutral` == 'BOS' | playoff_games$`Home/Neutral` == 'BOS' | playoff_games$`Visitor/Neutral` == 'DET' | playoff_games$`Home/Neutral` == 'DET'
test$cteams <- temp2
view(filter(test,correct == T & cteams == T))
filter_teams1 <- function(first,last,part,team1,team2,team3){
temp <- part$year >= first & part$year < last
test <- part
test$correct <- temp
temp2 <- playoff_games$`Visitor/Neutral` == team1 | playoff_games$`Home/Neutral` == team1 | playoff_games$`Visitor/Neutral` == team2 | playoff_games$`Home/Neutral` == team2 | playoff_games$`Visitor/Neutral` == team3 | playoff_games$`Home/Neutral` == team3
test$cteams <- temp2
df <- filter(test,correct == T & cteams == T)
return(df)
}
the80s <- filter_teams(1980,1990,'BOS','LAL','DET')
the80s <- filter_teams1(1980,1990,'BOS','LAL','DET')
the80s <- filter_teams1(1980,1990,playoff_games,'BOS','LAL','DET')
view(the80s)
playoff_games <- read.csv('/Users/matty/Documents/BYU/undergrad_research/old_data/playoff_games.csv')
regular_season <- read.csv('/Users/matty/Documents/BYU/undergrad_research/old_data/regular_season.csv')
names <- c('Visitor/Neutral','Visitor Points','Home/Neutral','Home Points','id','year','win','team','season_id','margin','playoff')
names(regular_season) <- names
names(playoff_games) <- names
reg80 <- filter_teams1(1980,1990,regular_season,'BOS','DET','LAL')
filter_teams1 <- function(first,last,part,team1,team2,team3){
temp <- part$year >= first & part$year < last
test <- part
test$correct <- temp
temp2 <- part$`Visitor/Neutral` == team1 | part$`Home/Neutral` == team1 | part$`Visitor/Neutral` == team2 | part$`Home/Neutral` == team2 | part$`Visitor/Neutral` == team3 | part$`Home/Neutral` == team3
test$cteams <- temp2
df <- filter(test,correct == T & cteams == T)
return(df)
}
filter_teams2 <- function(first,last,part,team1,team2,team3,team4){
temp <- part$year >= first & part$year < last
test <- part
test$correct <- temp
temp2 <- part$`Visitor/Neutral` == team1 | part$`Home/Neutral` == team1 | part$`Visitor/Neutral` == team2 | part$`Home/Neutral` == team2 | part$`Visitor/Neutral` == team3 | part$`Home/Neutral` == team3 | part$`Visitor/Neutral` == team4 | part$`Home/Neutral` == team4
test$cteams <- temp2
df <- filter(test,correct == T & cteams == T)
return(df)
}
reg80 <- filter_teams1(1980,1990,regular_season,'BOS','DET','LAL')
library(lookup)
library(tidyverse)
library(rvest)
library(lubridate)
library(readxl)
library(dplyr)
library(readxl)
library(aod)
library(ggplot2)
library(tidyr)
library(stringr)
library(lookup)
library(reshape)
library(coda)
playoff_games <- read.csv('/Users/matty/Documents/BYU/undergrad_research/old_data/playoff_games.csv')
regular_season <- read.csv('/Users/matty/Documents/BYU/undergrad_research/old_data/regular_season.csv')
names <- c('Visitor/Neutral','Visitor Points','Home/Neutral','Home Points','id','year','win','team','season_id','margin','playoff')
names(regular_season) <- names
names(playoff_games) <- names
filter_teams1 <- function(first,last,part,team1,team2,team3){
temp <- part$year >= first & part$year < last
test <- part
test$correct <- temp
temp2 <- part$`Visitor/Neutral` == team1 | part$`Home/Neutral` == team1 | part$`Visitor/Neutral` == team2 | part$`Home/Neutral` == team2 | part$`Visitor/Neutral` == team3 | part$`Home/Neutral` == team3
test$cteams <- temp2
df <- filter(test,correct == T & cteams == T)
return(df)
}
filter_teams2 <- function(first,last,part,team1,team2,team3,team4){
temp <- part$year >= first & part$year < last
test <- part
test$correct <- temp
temp2 <- part$`Visitor/Neutral` == team1 | part$`Home/Neutral` == team1 | part$`Visitor/Neutral` == team2 | part$`Home/Neutral` == team2 | part$`Visitor/Neutral` == team3 | part$`Home/Neutral` == team3 | part$`Visitor/Neutral` == team4 | part$`Home/Neutral` == team4
test$cteams <- temp2
df <- filter(test,correct == T & cteams == T)
return(df)
}
reg80 <- filter_teams1(1980,1990,regular_season,'BOS','DET','LAL')
view(reg80)
post80 <- filter_teams1(1980,1990,playoff_games,'BOS","DET","LAL')
post80 <- filter_teams1(1980,1990,playoff_games,'BOS','DET','LAL')
view(post80)
reg90 <- filter_teams1(1990,2000,regular_season,'HOU','CHI','UTA')
view(reg90)
post90 <- filter_teams1(1990,2000,playoff_games,'HOU','CHI','UTA')
reg00 <- filter_teams2(2000,2010,regular_season,'LAL','BOS','DET','SAN')
view(reg00)
reg00 <- filter_teams2(2000,2010,regular_season,'LAL','BOS','DET','SAS')
view(reg00)
post00 <- filter_teams2(2000,2010,playoff_games,'LAL','BOS','DET','SAS')
reg10 <- filter_teams2(2010,regular_season,'MIA','CLE','GSW','SAS')
reg10 <- filter_teams2(2010,2020,regular_season,'MIA','CLE','GSW','SAS')
view(reg10)
post10 <- filter_teams2(2010,2020,playoff_games,'MIA','CLE','GWS','SAS')
write_csv(reg80,'reg80.csv')
write_csv(reg80,'reg80.csv')
write_csv(post80,'post80.csv')
write_csv(reg90,'reg90.csv')
write_csv(post90,'post90.csv')
write_csv(reg00,'reg00.csv')
write_csv(post00,'post00.csv')
write_csv(reg10,'reg10.csv')
write_csv(post10,'post10.csv')
setwd('/Users/matty/BYU/undergrad_research/filter')
setwd('/Users/matty/Documents/BYU/undergrad_research/filter')
write_csv(reg80,'reg80.csv')
write_csv(post80,'post80.csv')
write_csv(reg90,'reg90.csv')
write_csv(post90,'post90.csv')
write_csv(reg00,'reg00.csv')
write_csv(post00,'post00.csv')
write_csv(reg10,'reg10.csv')
write_csv(post10,'post10.csv')
